:root {
    --bg-white: #FFFFFF;

    /* Gradients */
    --grad-standard: linear-gradient(135deg, #007AFF 0%, #00C6FF 100%);
    --grad-light: linear-gradient(135deg, #28CD41 0%, #87EE85 100%);
    --grad-deep: linear-gradient(135deg, #AF52DE 0%, #D5A3FF 100%);
    --grad-free: linear-gradient(135deg, #FF9500 0%, #FFCC00 100%);

    /* Solid colors for text fallback or borders */
    --col-standard: #007AFF;
    --col-light: #28CD41;
    --col-deep: #AF52DE;
    --col-free: #FF9500;

    --text-primary: #1C1C1E;
    --text-secondary: #8E8E93;

    /* Active Theme Variables */
    --active-gradient: var(--grad-standard);
    --active-color: var(--col-standard);

    --font-primary: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    -webkit-font-smoothing: antialiased;
}

body {
    font-family: var(--font-primary);
    background-color: transparent;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
}

.app-container {
    width: 320px;
    padding: 3px;
    /* Space for the gradient border */
    border-radius: 31px;
    /* 28px + 3px */
    background: transparent;
    /* Default transparent */
    transition: background 0.5s ease;
}

/* When active, show the gradient border around the whole card */
.app-container.border-active {
    background: var(--active-gradient);
    box-shadow: 0 10px 40px -10px var(--active-color);
    /* Glow */
}

.widget-card {
    background: var(--bg-white);
    border-radius: 28px;
    padding: 32px 24px;
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    min-height: 400px;
    position: relative;
    /* Ensure white background covers the inner part so gradient is only a border */
    background-clip: padding-box;
}

/* --- Shared Timer Section --- */
.timer-section {
    margin-bottom: 24px;
    margin-top: 10px;
}

.digital-timer {
    font-size: 64px;
    font-weight: 800;
    color: var(--text-primary);
    font-variant-numeric: tabular-nums;
    letter-spacing: -2px;
    line-height: 1;
}

/* --- Selection View --- */
.view-container {
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    transition: opacity 0.3s ease;
}

.hidden {
    display: none !important;
}

/* Play Button - Outline Style */
.play-btn {
    width: 72px;
    height: 72px;
    border-radius: 50%;
    background: transparent;

    /* The Border is the gradient or solid color */
    border: 3px solid var(--active-color);
    color: var(--active-color);
    /* Icon takes this color */

    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 32px;
    transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.play-btn:hover {
    transform: scale(1.05);
}

.play-btn svg path {
    fill: currentColor;
}

/* Mode Grid */
.mode-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    width: 100%;
}

.mode-pill {
    background: #F2F2F7;
    border: none;
    border-radius: 12px;
    padding: 10px 0;
    font-family: var(--font-primary);
    font-weight: 600;
    font-size: 13px;
    color: var(--text-secondary);
    cursor: pointer;
    transition: all 0.2s ease;
}

.mode-pill:hover {
    background: #E5E5EA;
}

.mode-pill.active {
    background: #FFFFFF;
    color: var(--text-primary);
    /* "Liseré" around the selected mode pill? Or just style it to look selected.
       Standard iOS style is usually white bg with shadow or color text.
       User asked for "Liseré" around the "Active View" title, but let's make the active pill distinct too. 
       Let's stick to a clean look: Black text, maybe subtle shadow. */
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    color: var(--active-color);
}

/* Custom Sliders */
.custom-controls {
    width: 100%;
    margin-top: 20px;
    padding: 0 8px;
}

.slider-row {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 12px;
}

.slider-row label {
    font-size: 12px;
    font-weight: 600;
    color: var(--text-secondary);
    width: 40px;
}

.slider-row input[type=range] {
    flex: 1;
    -webkit-appearance: none;
    /* Override default look */
    background: transparent;
}

/* Standard Slider Styling */
.slider-row input[type=range]::-webkit-slider-thumb {
    -webkit-appearance: none;
    height: 18px;
    width: 18px;
    border-radius: 50%;
    background: #FFFFFF;
    border: 1px solid #0000000D;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    margin-top: -7px;
    cursor: pointer;
}

.slider-row input[type=range]::-webkit-slider-runnable-track {
    width: 100%;
    height: 4px;
    background: #E5E5EA;
    border-radius: 2px;
}

.slider-row span {
    font-size: 12px;
    width: 20px;
    text-align: right;
    color: var(--text-primary);
}

/* --- Active View --- */
.active-view {
    margin-top: 10px;
    /* User said: "border around the étiquette on the second mode".
       We are putting the border on the main app container for the 'Active View' state.
       But we can also style the Title specifically if needed. */
}

.mode-title {
    font-size: 24px;
    font-weight: 700;
    background: var(--active-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    /* Fallback */
    margin-bottom: 8px;
}

.cycle-indicator {
    font-size: 18px;
    font-weight: 500;
    color: var(--text-secondary);
    margin-bottom: 40px;
}

.text-btn {
    background: #F2F2F7;
    border: none;
    font-size: 14px;
    font-weight: 600;
    color: var(--text-primary);
    cursor: pointer;
    padding: 10px 24px;
    border-radius: 20px;
    transition: background 0.2s;
}

.text-btn:hover {
    background: #E5E5EA;
}